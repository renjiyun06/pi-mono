# Comprehension Guide: autopilot-0008 Code Changes

Generated by `understand` — questions to test your understanding of what the agent built.

## DeepDive.tsx (1519 lines — the core video composition)

1. **Why does the particle generator use a seeded PRNG instead of Math.random()?**
   - Hint: Think about how video rendering works — frames may be rendered multiple times or out of order.
   - Key concepts: deterministic rendering, pure functions, frame consistency

2. **How does the character-by-character text reveal work in ChapterScene, and what could break?**
   - Hint: Look at how globalCharIdx is managed across lines. What about emojis or special characters?
   - Key concepts: animation timing, unicode handling, character indexing, interpolation

3. **What's the glow opacity interpolation bug that was fixed, and why did it only affect short sections?**
   - Hint: `[15, 40, durationFrames - 30]` — what happens when durationFrames < 70?
   - Key concepts: Remotion interpolation, monotonic inputRange requirement, Math.max guard

## understand.ts (447 lines — the comprehension tool itself)

1. **Why does `generateQuestions` call `process.exit(1)` on bad JSON, but `evaluateAnswer` returns a fallback?**
   - Hint: One is fatal (can't quiz without questions), the other is recoverable.
   - Key concepts: error handling, graceful degradation, UX continuity

2. **What's the cross-environment issue with history path calculation?**
   - Hint: `git rev-parse --show-toplevel` + `relative()` — what if you run from different directories?
   - Key concepts: git root detection, relative paths, portability

3. **Why truncate code to 8000 chars for questions but only 4000 for evaluation?**
   - Hint: Question generation needs broad context; evaluation only needs enough to verify the answer.
   - Key concepts: token limits, context efficiency, cost optimization

## understand.ts extension (130 lines — pi integration)

1. **What happens if someone runs `/understand quiz` but only modified .md and .json files?**
   - Hint: Look at the file filter. It excludes .md, .json, .txt — what's left?
   - Key concepts: file filtering, edge cases, user feedback

2. **Why track modification COUNT per file? How does it affect quiz targeting?**
   - Hint: The quiz targets the most-modified file. Is "most edits" the same as "most important change"?
   - Key concepts: heuristic quality, edit frequency vs significance

## How to Use This Guide

Read the questions BEFORE reviewing the code. Try to answer from the code alone. If you can answer 6+ correctly, you understand the changes. If you can't answer 3+, the code is cognitive debt.
